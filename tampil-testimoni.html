<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-
scale=1.0">
<title>Profil Usaha Buku</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<header>
    <img src="header2.jpg" alt="header" width="1213" height="350">
</header>
<nav>
    <a href="index.html">beranda</a>
    <a href="produk.html">produk</a>
    <a href="Bedah-buku.html">Bedah buku</a>
    <a href="testimoni.html">Testimoni</a>
    <a href="tampil-testimoni.html">Testimoni pembeli</a>
</nav>

<main class="formulir">
    <h2>Testimoni-testimoni pembeli :</h2>
    <div id="daftarTestimoni"></div>
    <button id="hapusSemua">Hapus Semua Testimoni</button>
</main>
<section>
    <div id="daftarTestimoni"></div>
</section>
<footer>
    <p>&copy;2026 Toko buku Nafisah</p>
</footer>
<script>
document.getElementById('formTestimoni').addEventListener('submit', function(e) {
    e.preventDefault();

    const nama = document.getElementById('nama').value;
    const email = document.getElementById('email').value;
    const pesan = document.getElementById('pesan').value;
    const asal = document.getElementById('asal').value;
    const judul = document.getElementById('judul').value;
    const rating = document.getElementById('rating').value;

    const dataBaru = { nama, email, pesan, asal, judul, rating };
// Ambil list dari localStorage
 const testimoniList = JSON.parse(localStorage.getItem('testimoniList')) || []; 
// Tambahkan testimoni baru 
testimoniList.push(dataBaru); 
// Simpan kembali ke localStorage 
localStorage.setItem('testimoniList', JSON.stringify(testimoniList));
// Arahkan ke halaman konfirmasi
 window.location.href = 'proses-testimoni.html'; });
</script>

<script>
    const container = document.getElementById('daftarTestimoni');
    const testimoniList = JSON.parse(localStorage.getItem('testimoniList')) || [];
JSON.parse(localStorage.getItem('testimoniList'))  || [];

    if (testimoniList.length === 0) {
        container.innerHTML = "<p>Belum ada testimoni.</p>";
    } else {
        testimoniList.forEach((t, i) => {
            const el = document.createElement('div');
            el.className = 'testimoni-box';
            el.innerHTML = `
            <p><strong>Nama:</strong> ${t.nama}</p>
            <p><strong>Email:</strong> ${t.email}</p>
            <p><strong>Pesan:</strong> ${t.pesan}</p>
            <p><strong>Asal:</strong> ${t.asal}</p>
            <p><strong>Judul Buku:</strong> ${t.judul}</p>
            <p><strong>Rating:</strong> ${t.rating}</p>
        `;
        container.appendChild(el);
    });
}

document.getElementById("hapusSemua").addEventListener("click", function() {
        const konfirmasi = confirm("Apakah Anda yakin ingin menghapus semua testimoni?");
        if (konfirmasi) {
            localStorage.removeItem("testimoniList");
            location.reload();
        }
    });
</script>

</body>
</html>
